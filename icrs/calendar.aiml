<aiml version="1.0.1" encoding="UTF-8">
   <topic name="ADDEVENT">
      <category>
          <pattern>ASKEVENT</pattern>
          <template>
            <condition>
              <li name="event-start" value="">
                for what time?
              </li>
              <li name="event-end" value="">
                you would end by what time?
              </li>
              <li name="event-summary" value="">
                what shall we name this event ?
              </li>
              <li name="event-attendees" value="">
                who else should we invite ?
              </li>
              <li name="event-add-confirm" value="">
                shall I go ahead and add event &quot;<get name="event-summary"/>&quot; to your calendar ?
              </li>
              <li>
                <condition name="event-attendees" value="NOONE">
                  <set name="event-attendees" />
                </condition>
                <system>ruby ./executables/google-apis.rb new --start &quot;<get name="event-start"/>&quot; --end &quot;<get name="event-end"/>&quot; --summary &quot;<get name="event-summary"/>&quot; --attendees &quot;<get name="event-attendees"/>&quot;</system>
                <srai>CLEANEVENT</srai>
              </li>
            </condition>
          </template>
      </category>
      <category>
          <pattern>CLEANEVENT</pattern>
          <template>
            <think>
              <set name="topic" />
              <set name="event-start" />
              <set name="event-end" />
              <set name="event-summary" />
              <set name="event-attendees" />
              <set name="event-add-confirm" />
            </think>
          </template>
      </category>
      <category>
          <pattern>*</pattern>
          <that>* WHAT TIME</that>
          <template>
            <think><set name="event-start"><star/></set></think>
            <sentence>
              <srai>ASKEVENT</srai>
            </sentence>
          </template>
      </category>
      <category>
          <pattern>FOR *</pattern>
          <that>* WHAT TIME</that>
          <template>
            <think><set name="event-start"><star/></set></think>
            <sentence>
              <srai>ASKEVENT</srai>
            </sentence>
          </template>
      </category>
      <category>
          <pattern>AROUND *</pattern>
          <that>* END BY WHAT TIME</that>
          <template>
            <think><set name="event-end"><star/></set></think>
            <sentence>
              <srai>ASKEVENT</srai>
            </sentence>
          </template>
      </category>
      <category>
          <pattern>*</pattern>
          <that>* END BY WHAT TIME</that>
          <template>
            <think><set name="event-end"><star/></set></think>
            <sentence>
              <srai>ASKEVENT</srai>
            </sentence>
          </template>
      </category>
      <category>
          <pattern>CALL IT *</pattern>
          <that>* NAME THIS EVENT</that>
          <template>
            <think><set name="event-summary"><star/></set></think>
            <sentence>
              <srai>ASKEVENT</srai>
            </sentence>
          </template>
      </category>
      <category>
          <pattern>*</pattern>
          <that>* NAME THIS EVENT</that>
          <template>
            <think><set name="event-summary"><star/></set></think>
            <sentence>
              <srai>ASKEVENT</srai>
            </sentence>
          </template>
      </category>
      <category>
          <pattern>* WITH *</pattern>
          <that>* NAME THIS EVENT</that>
          <template>
            <think>
              <set name="event-summary"><star index="1"/> with <star index="2"/></set>
              <set name="event-friend"><star index="2"/></set>
            </think>
            <sentence>
              <srai>ASKEVENT</srai>
            </sentence>
          </template>
      </category>
      <category>
          <pattern>WHATEVER</pattern>
          <that>* NAME THIS EVENT</that>
          <template>
            <think><set name="event-summary">Unnamed Event</set></think>
            <sentence>
              <srai>ASKEVENT</srai>
            </sentence>
          </template>
      </category>
      <category>
          <pattern>*</pattern>
          <that>* ELSE SHOULD WE INVITE</that>
          <template>
            <srai>ADDATTENDEES <star/></srai>
          </template>
      </category>
      <category>
          <pattern>NO *</pattern>
          <that>* ELSE SHOULD WE INVITE</that>
          <template>
            <srai>ADDATTENDEES NOONE</srai>
          </template>
      </category>
      <category>
          <pattern>INVITE *</pattern>
          <that>* ELSE SHOULD WE INVITE</that>
          <template>
            <srai>ADDATTENDEES <star/></srai>
          </template>
      </category>
      <category>
          <pattern>ADDATTENDEES *</pattern>
          <template>
            <think>
              <set name="event-attendees"><star/></set>
            </think>
            <sentence>
              <srai>ASKEVENT</srai>
            </sentence>
          </template>
      </category>
      <category>
          <pattern>ASKFRIENDEMAIL *</pattern>
          <template>May I have <star/>'s email ?</template>
      </category>
      <category>
          <pattern>*</pattern>
          <that>MAY I HAVE * EMAIL</that>
          <template>
            <srai>ADDATTENDEES <star/></srai>
          </template>
      </category>
      <category>
          <pattern>NO *</pattern>
          <that>MAY I HAVE * EMAIL</that>
          <template>No problems. </template>
      </category>
      <category>
          <pattern>YES</pattern>
          <that>* GO AHEAD AND ADD EVENT *</that>
          <template>
            <think>
              <set name="event-add-confirm">true</set>
            </think>
            <sentence>
              Okay, <srai>ASKEVENT</srai>
            </sentence>
          </template>
      </category>
      <category>
          <pattern>YES</pattern>
          <that>* CONTINUE ADDING AN EVENT</that>
          <template>
            <sentence>
              So <srai>ASKEVENT</srai>
            </sentence>
          </template>
      </category>
      <category>
          <pattern>NO</pattern>
          <that>* CONTINUE ADDING AN EVENT</that>
          <template>
            Fine, then.<srai>CLEANEVENT</srai>
          </template>
      </category>
      <category>
          <pattern>*</pattern>
          <template>Do you want to continue adding an event ?</template>
      </category>
     </topic>
    <category>
        <pattern>HELLO</pattern>
        <template>
          <random>
            <li>Well, hello there!</li>
            <li>Hey, yourself!</li>
            <li>Howdy!</li>
          </random>
        </template>
    </category>
    <category>
        <pattern>HI</pattern>
        <template>
          <srai>HELLO</srai>
        </template>
    </category>
    <category>
        <pattern>HI *</pattern>
        <template>
          <srai>HELLO</srai>
        </template>
    </category>
    <category>
        <pattern>WHAT ARE YOU</pattern>
        <template>
            I'm a bot, silly!
        </template>
    </category>
   <category>
      <pattern>MY NAME IS *</pattern>
      <template>
         That is interesting that your name is <set name="name"><star/></set>
      </template>
   </category>
   <category>
      <pattern>WHAT IS MY NAME</pattern>
      <template>
         Your name is <get name="name"/>.
      </template>
   </category>
   <category>
      <pattern>EVENTS *</pattern>
      <template>
        <system>ruby ./executables/google-apis.rb upcoming --from &quot;<star/>&quot;</system>
      </template>
   </category>
   <category>
      <pattern>WHAT EVENTS DO I HAVE</pattern>
      <template>
        <think><set name="day">now</set></think>
        <srai>EVENTS now</srai>
      </template>
   </category>
    <category>
      <pattern>WHAT EVENTS DO I HAVE *</pattern>
      <template>
        <think><set name="day"><star/></set></think>
        <srai>EVENTS <star/></srai>
      </template>
   </category>
   <category>
      <pattern>ADD EVENT</pattern>
      <template>
        <think><set name="topic">ADDEVENT</set></think>
        <sentence>
          <srai>ASKEVENT</srai>
        </sentence>
      </template>
   </category>
    <category>
        <pattern>*</pattern>
        <template>
          <random>
            <li>How can I help you today?</li>
            <li>How can I be of service?</li>
          </random>
        </template>
    </category>
 </aiml>
